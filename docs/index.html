<!doctype html>
<html>
<head>
	<meta name="generator" content="Hugo 0.37.1" />
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>
    <link href='/mangal-api/slate/stylesheets/monokai.css' rel="stylesheet" media="screen" />
<link href='/mangal-api/slate/stylesheets/screen.css' rel="stylesheet" media="screen" />
<link href='/mangal-api/slate/stylesheets/print.css' rel="stylesheet" media="print" />

    
<script src='/mangal-api/slate/javascripts/all.js'></script>

    
</head>
<body class="index" data-languages="[ &#34;javascript&#34; ,  &#34;shell&#34; ]">
    <a href="#" id="nav-button">
        <span>
        NAV
        <img src='/mangal-api/slate/images/navbar.png'/>
      </span>
    </a>
    <div class="tocify-wrapper">
        
         <img src='/mangal-api/images/logo.png' />
        
        <div class="lang-selector">
            
            <a href="#" data-language-name="javascript">Javascript</a>
            
            <a href="#" data-language-name="shell">Shell</a>
            
        </div>
         
        
        <div class="search">
            <input type="search" class="search" id="input-search" placeholder='Search'>
        </div>
        <ul class="search-results"></ul>
        
        <div id="toc">
        </div>
         
        
        <ul class="toc-footer">
            
            <li>Maintained by <a href="http://steveviss.github.io/">Steve Vissault</a></li>
            
            <li>Documentation generated with <a href="https://github.com/bep/docuapi">DocuAPI</a></li>
            
            <li>Theme by <a href="https://github.com/bep">bep</a></li>
            
        </ul>
        
        

    </div>
    <div class="page-wrapper">
        <div class="dark-box"></div>
        <div class="content">
            
    
        

<h1 id="api-documentation">API Documentation</h1>

<p>Application Programming Interface (API) to support <a href="http://poisotlab.biol.umontreal.ca/#/">Mangal.io</a>, an ecological interactions database.</p>

<h1 id="authentication">Authentication</h1>

<p>Authentification is mandatory only for <code>POST</code>, <code>PUT</code> &amp; <code>DELETE</code> operations. We use the ORCID authentification service. Registration is open and accessible at <a href="http://poisotlab.biol.umontreal.ca/auth">http://poisotlab.biol.umontreal.ca/auth</a>. We are currently developing templates to facilitate the conversion and publication of new ecological networks into mangal.</p>

<p><code>GET</code> doesn&rsquo;t require authentification. If you have any question, please email me steve.vissault[at]usherbrooke.ca</p>

<h1 id="endpoints">Endpoints</h1>

<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Content description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>\reference</code></td>
<td>Original publications (doi, bibtex, authors etc.)</td>
</tr>

<tr>
<td><code>\dataset</code></td>
<td>Collection of networks</td>
</tr>

<tr>
<td><code>\network</code></td>
<td>Network collected at specific location and date.</td>
</tr>

<tr>
<td><code>\node</code></td>
<td>Individu, taxa or population involved in the network</td>
</tr>

<tr>
<td><code>\interaction</code></td>
<td>Directed or undirected interaction among two nodes</td>
</tr>

<tr>
<td><code>\taxonomy</code></td>
<td>Homogeneized taxonomy / unique identifier from gbif, eol, col, itis, bold, ncbi</td>
</tr>

<tr>
<td><code>\trait</code></td>
<td>Trait variables from a node or taxon (generic traits)</td>
</tr>

<tr>
<td><code>\environment</code></td>
<td>Environment variables attached to a network</td>
</tr>

<tr>
<td><code>\attribute</code></td>
<td>Variables use to describe interaction, trait, environment</td>
</tr>
</tbody>
</table>

<p><a href="https://raw.githubusercontent.com/mangal-wg/mangal-api/master/mangal_dev.png">Download DB diagram</a></p>

<h1 id="generic-parameters">Generic parameters</h1>

<p>Generic parameters applicable for <code>GET</code> method</p>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Exemple</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>q</code></td>
<td>Full search within the table, <strong>only working on string columns</strong>.</td>
<td><code>http://poisotlab.biol.umontreal.ca/api/v2/dataset?q=%insect%</code></td>
</tr>

<tr>
<td><code>sort</code></td>
<td>Sort specific column</td>
<td><code>http://poisotlab.biol.umontreal.ca/api/v2/dataset?sort=-id</code></td>
</tr>

<tr>
<td><code>page</code></td>
<td>Request specific page</td>
<td><code>http://poisotlab.biol.umontreal.ca/api/v2/dataset?page=0</code></td>
</tr>

<tr>
<td><code>count</code></td>
<td>Number of entries returned (max. 1000)</td>
<td><code>http://poisotlab.biol.umontreal.ca/api/v2/dataset?count=50</code></td>
</tr>
</tbody>
</table>

<h1 id="datasets">Datasets</h1>

<h2 id="get-all-datasets">Get all datasets</h2>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="k">import</span> <span class="nx">axios</span>

<span class="nx">axio</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;http://poisotlab.biol.umontreal.ca/api/v2/dataset&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span>
  <span class="p">})</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">curl <span class="s2">&#34;http://poisotlab.biol.umontreal.ca/api/v2/dataset&#34;</span></code></pre></div>
<blockquote>
<p>Output exemple</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="p">[{</span>
  <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;howking_1968&#34;</span><span class="p">,</span>
  <span class="nt">&#34;date&#34;</span><span class="p">:</span> <span class="s2">&#34;1963-06-01T04:00:00.000Z&#34;</span><span class="p">,</span>
  <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Insect activity recorded 
</span><span class="s2">    on flower at Lake Hazen, Ellesmere Island, 
</span><span class="s2">    N.W.T., Canada&#34;</span><span class="p">,</span>
  <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&#34;created_at&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-02-22T15:39:00.427Z&#34;</span><span class="p">,</span>
  <span class="nt">&#34;updated_at&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-02-22T15:39:00.427Z&#34;</span><span class="p">,</span>
  <span class="nt">&#34;ref_id&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nt">&#34;user_id&#34;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;lundgren_olesen_2005&#34;</span><span class="p">,</span>
  <span class="nt">&#34;date&#34;</span><span class="p">:</span> <span class="s2">&#34;2002-08-04T04:00:00.000Z&#34;</span><span class="p">,</span>
  <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Pollnator activity 
</span><span class="s2">    recorded on flowers, Uummannaq Island, Greenland, Danmark&#34;</span><span class="p">,</span>
  <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&#34;created_at&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-02-22T20:04:25.322Z&#34;</span><span class="p">,</span>
  <span class="nt">&#34;updated_at&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-02-22T20:04:25.322Z&#34;</span><span class="p">,</span>
  <span class="nt">&#34;ref_id&#34;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="nt">&#34;user_id&#34;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}]</span></code></pre></div>
<h3 id="http-request">HTTP Request</h3>

<p>List all datasets available in mangal</p>

<p><code>GET http://poisotlab.biol.umontreal.ca/api/v2/dataset</code></p>

<p>Request specific dataset <code>id</code></p>

<p><code>GET http://poisotlab.biol.umontreal.ca/api/v2/dataset/:id</code></p>

<h3 id="parameters">Parameters</h3>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Exemple</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>name</code></td>
<td>Search by unique name (<code>firstAuthor_pubYear</code>)</td>
<td><code>http://poisotlab.biol.umontreal.ca/api/v2/dataset?name=howking_1968</code></td>
</tr>

<tr>
<td><code>date</code></td>
<td>Search by creation date &ndash; format <code>YYYY-mm-dd</code></td>
<td><code>http://poisotlab.biol.umontreal.ca/api/v2/dataset?date=1963-06-01</code></td>
</tr>

<tr>
<td><code>description</code></td>
<td>Full text search in description</td>
<td><code>http://poisotlab.biol.umontreal.ca/api/v2/dataset?description=%Ellesmere%</code></td>
</tr>
</tbody>
</table>

<h1 id="references">References</h1>

<h2 id="get-all-datasets-1">Get all datasets</h2>

<h3 id="http-request-1">HTTP REQUEST</h3>

<p>List all datasets available in mangal</p>

<p><code>GET http://poisotlab.biol.umontreal.ca/api/v2/dataset</code></p>

<p>Request specific entry based on the id</p>

<p><code>GET http://poisotlab.biol.umontreal.ca/api/v2/dataset/:id</code></p>

<h3 id="parameters-1">Parameters</h3>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Exemple</th>
</tr>
</thead>

<tbody>
<tr>
<td>q</td>
<td>false</td>
<td>If set to true, the result will also include cats.</td>
</tr>

<tr>
<td>sort</td>
<td>true</td>
<td>If set to false, the result will include kittens that have already been adopted.</td>
</tr>

<tr>
<td>page</td>
<td>true</td>
<td>If set to false, the result will include kittens that have already been adopted.</td>
</tr>
</tbody>
</table>

<h1 id="networks">Networks</h1>

<h2 id="get-all-datasets-2">Get all datasets</h2>

<h3 id="http-request-2">HTTP REQUEST</h3>

<p>List all datasets available in mangal</p>

<p><code>GET http://poisotlab.biol.umontreal.ca/api/v2/dataset</code></p>

<p>Request specific entry based on the id</p>

<p><code>GET http://poisotlab.biol.umontreal.ca/api/v2/dataset/:id</code></p>

<h3 id="parameters-2">Parameters</h3>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Exemple</th>
</tr>
</thead>

<tbody>
<tr>
<td>q</td>
<td>false</td>
<td>If set to true, the result will also include cats.</td>
</tr>

<tr>
<td>sort</td>
<td>true</td>
<td>If set to false, the result will include kittens that have already been adopted.</td>
</tr>

<tr>
<td>page</td>
<td>true</td>
<td>If set to false, the result will include kittens that have already been adopted.</td>
</tr>
</tbody>
</table>

<h1 id="nodes">Nodes</h1>

<h2 id="get-all-datasets-3">Get all datasets</h2>

<h3 id="http-request-3">HTTP REQUEST</h3>

<p>List all datasets available in mangal</p>

<p><code>GET http://poisotlab.biol.umontreal.ca/api/v2/dataset</code></p>

<p>Request specific entry based on the id</p>

<p><code>GET http://poisotlab.biol.umontreal.ca/api/v2/dataset/:id</code></p>

<h3 id="parameters-3">Parameters</h3>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Exemple</th>
</tr>
</thead>

<tbody>
<tr>
<td>q</td>
<td>false</td>
<td>If set to true, the result will also include cats.</td>
</tr>

<tr>
<td>sort</td>
<td>true</td>
<td>If set to false, the result will include kittens that have already been adopted.</td>
</tr>

<tr>
<td>page</td>
<td>true</td>
<td>If set to false, the result will include kittens that have already been adopted.</td>
</tr>
</tbody>
</table>

<h1 id="interactions">Interactions</h1>

<h2 id="get-all-datasets-4">Get all datasets</h2>

<h3 id="http-request-4">HTTP REQUEST</h3>

<p>List all datasets available in mangal</p>

<p><code>GET http://poisotlab.biol.umontreal.ca/api/v2/dataset</code></p>

<p>Request specific entry based on the id</p>

<p><code>GET http://poisotlab.biol.umontreal.ca/api/v2/dataset/:id</code></p>

<h3 id="parameters-4">Parameters</h3>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Exemple</th>
</tr>
</thead>

<tbody>
<tr>
<td>q</td>
<td>false</td>
<td>If set to true, the result will also include cats.</td>
</tr>

<tr>
<td>sort</td>
<td>true</td>
<td>If set to false, the result will include kittens that have already been adopted.</td>
</tr>

<tr>
<td>page</td>
<td>true</td>
<td>If set to false, the result will include kittens that have already been adopted.</td>
</tr>
</tbody>
</table>

<h1 id="taxonomy">Taxonomy</h1>

<h2 id="get-all-datasets-5">Get all datasets</h2>

<h3 id="http-request-5">HTTP REQUEST</h3>

<p>List all datasets available in mangal</p>

<p><code>GET http://poisotlab.biol.umontreal.ca/api/v2/dataset</code></p>

<p>Request specific entry based on the id</p>

<p><code>GET http://poisotlab.biol.umontreal.ca/api/v2/dataset/:id</code></p>

<h3 id="parameters-5">Parameters</h3>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Exemple</th>
</tr>
</thead>

<tbody>
<tr>
<td>q</td>
<td>false</td>
<td>If set to true, the result will also include cats.</td>
</tr>

<tr>
<td>sort</td>
<td>true</td>
<td>If set to false, the result will include kittens that have already been adopted.</td>
</tr>

<tr>
<td>page</td>
<td>true</td>
<td>If set to false, the result will include kittens that have already been adopted.</td>
</tr>
</tbody>
</table>

    
        

<h1 id="status-code">Status code</h1>

<p>The mangal API uses the following error codes</p>

<table>
<thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead>

<tbody>
<tr>
<td>200</td>
<td>Successfull response from the API (<code>GET</code>, <code>PUT</code>, <code>DELETE</code>).</td>
</tr>

<tr>
<td>201</td>
<td>The request has been fulfilled, resulting in the creation of a new resource (<code>POST</code>).</td>
</tr>

<tr>
<td>400</td>
<td>Bad Request, API failed to validate the body content.</td>
</tr>

<tr>
<td>404</td>
<td>Not Found, endpoint doesn&rsquo;t exist.</td>
</tr>

<tr>
<td>500</td>
<td>Internal Server Error, problem with our server. Try again later or email the system administrator - steve.vissault[at]usherbrooke.ca</td>
</tr>

<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance.</td>
</tr>
</tbody>
</table>

    

        </div>
        <div class="dark-box">
            
            <div class="lang-selector">
                
                <a href="#" data-language-name="javascript">Javascript</a>
                
                <a href="#" data-language-name="shell">Shell</a>
                
            </div>
            
        </div>
    </div>
    
</body>
</html>
